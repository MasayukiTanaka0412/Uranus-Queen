<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Uranus-Queen: Meeting Minute Maker</title>
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css" />     
	<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>     
	<script src="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js"></script>     
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<script>
		var drawFlag = false; 
		var oldX = 0; 
		var oldY = 0;
		
		window.addEventListener("load", function(){     
			var can = document.getElementById("canvas");
			can.addEventListener("mousemove", draw, true); 
			can.addEventListener("mousedown", function(e){
				drawFlag = true;
				var rect = e.target.getBoundingClientRect();
				oldX = e.clientX  - rect.left;
				oldY = e.clientY  - rect.top;}, false);
			can.addEventListener("mouseup", function(){
				drawFlag = false;
				}, false);
			}, true); 
		
		function draw(e){
			if (!drawFlag) return;
			var rect = e.target.getBoundingClientRect();
			var x = e.clientX - rect.left;
			var y = e.clientY - rect.top;
			var can = document.getElementById("canvas");
			var context = can.getContext("2d");
			context.strokeStyle  = "#000000";
			context.lineWidth = 1;    
			context.beginPath();
			context.moveTo(oldX, oldY);
			context.lineTo(x, y);
			context.stroke();
			context.closePath();
			oldX = x;
			oldY = y; 
		}
		
		function addComment(){
			var img_png_src = document.getElementById("canvas").toDataURL("image/png");
			$("<li></li>").html("<img src='" + img_png_src + "'/>" ).prependTo("#entries");
			clearCanvas();
		}
		
		function clearCanvas(){
			var can = document.getElementById("canvas");
			var context = can.getContext("2d");
			context.clearRect(0,0,600,200);
		}
	</script>
</head>
<body>
	<div data-role="page" id="index">   
		<div data-role="header">
			<h1>Uranus-Queen: Meeting Minute Maker</h1>   
		</div>   
		
		<div data-role="content">     
			<ul data-role="listview" data-inset="true">
				<li><a href="#MeetingInfo">Set Meeting Info</a></li>
				<li><a href="#usage">Usage</a></li>
				<li><a href="#contact">Contact</a></li>
			</ul>
		</div>   
		<div data-role="footer">     
			<h4>&copy; 2012 Masayuki Tanaka</h4>   
		</div> 
	</div>
	
	<div data-role="page" id="MeetingInfo">   
		<div data-role="header">
			<h1>Set Meeting Info</h1>   
		</div>   
		
		<div data-role="content">     
			<div data-role="fieldcontain"> 
				<label for="meetingTitle">Meeting Title</label>
				<input type="text" id="meetingTitle" name="meetingTitle" value="" ><br/>
			</div>
			<div data-role="fieldcontain"> 
				<label for="DateAndTime">Date and Time</label>
				<input type="text" id="DateAndTime" name="DateAndTime" value="" ><br/>
			</div>
			<div data-role="fieldcontain"> 
				<label for="venue">Venue</label>
				<input type="text" id="venue" name="venue" value="" ><br/>
			</div>
			<div data-role="fieldcontain"> 
				<label for="attendees">Attendees (Comma Separated)</label>
				<input type="text" id="attendees" name="attendees" value="" ><br/>
			</div>
			<a href="#AddEntries" data-role="button" data-icon="arrow-r" data-iconpos="right">Start Meeting</a>
		</div>  
		<div data-role="footer">     
			<h4>&copy; 2012 Masayuki Tanaka</h4>   
		</div> 
	</div>
	
	<div data-role="page" id="AddEntries">   
		<div data-role="header">
			<h1>Add Entries</h1>   
		</div>   
		
		<div data-role="content">
		Write Comment here
			<div style="border: solid 1px Black; width:600px">
				<canvas id="canvas" width="600" height="200">Canvas is not supported</canvas>
			</div>
			
			<div data-role="controlgroup" data-type="horizontal">
				<input type="radio" name="Tag" id="tagDiscussion" value="Discussion" checked="checked" />
		     	<label for="tagDiscussion">Discussion</label>

		     	<input type="radio" name="Tag" id="tagAction" value="Action"  />
		     	<label for="tagAction">Action</label>

		     	<input type="radio" name="Tag" id="tagColclusion" value="Conclusion"  />
		     	<label for="tagColclusion">Conclusion</label>
			</div>
			<br/><br/>
			<div data-role="controlgroup" data-type="horizontal">
				<a href="javascript:addComment()" data-role="button" data-icon="check" data-iconpos="left">Add Comment</a>
				<a href="javascript:clearCanvas()" data-role="button" data-icon="delete" data-iconpos="left">Clear</a>
			</div>
			<a href="#CreateMinute" data-role="button" data-icon="arrow-r" data-iconpos="right">Create Minute</a>
			<ul id="entries" data-role="listview"></ul>
		</div>  
		<div data-role="footer">     
			<h4>&copy; 2012 Masayuki Tanaka</h4>   
		</div> 
	</div>
	
	<div data-role="page" id="usage">   
		<div data-role="header">
			<a href="#index" data-direction="reverse">T0P</a>
			<h1>Usage</h1>   
		</div>   
		
		<div data-role="content">     
			TBD
		</div>   
		<div data-role="footer">     
			<h4>&copy; 2012 Masayuki Tanaka</h4>   
		</div> 
	</div>
	
	<div data-role="page" id="contact">   
		<div data-role="header">
			<a href="#index" data-direction="reverse">T0P</a>
			<h1>Contact</h1>   
		</div>   
		
		<div data-role="content">     
			TBD
		</div>   
		<div data-role="footer">     
			<h4>&copy; 2012 Masayuki Tanaka</h4>   
		</div> 
	</div>
</body>
</html>